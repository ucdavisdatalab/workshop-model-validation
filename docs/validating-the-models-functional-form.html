<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6 Validating the model’s functional form | Model validation for applied data science</title>
  <meta name="description" content="6 Validating the model’s functional form | Model validation for applied data science" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="6 Validating the model’s functional form | Model validation for applied data science" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://ucdavisdatalab.github.io/workshop_model_validation/" />
  
  
  <meta name="github-repo" content="ucdavisdatalab/workshop_model_validation" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6 Validating the model’s functional form | Model validation for applied data science" />
  
  
  

<meta name="author" content="Wesley Brooks" />


<meta name="date" content="2021-11-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-splitting-systems.html"/>
<link rel="next" href="validating-the-models-distributional-form.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://datalab.ucdavis.edu/">
  <img src="https://datalab.ucdavis.edu/wp-content/uploads/2019/07/datalab-logo-full-color-rgb-1.png" style="height: 100%; width: 100%; object-fit: contain" />
</a></li>
<li><a href="./" style="font-size: 18px">Model validation for applied data science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Overview</a></li>
<li class="chapter" data-level="1" data-path="basic-information.html"><a href="basic-information.html"><i class="fa fa-check"></i><b>1</b> Basic information</a>
<ul>
<li class="chapter" data-level="1.1" data-path="basic-information.html"><a href="basic-information.html#what-is-a-model"><i class="fa fa-check"></i><b>1.1</b> What is a model?</a></li>
<li class="chapter" data-level="1.2" data-path="basic-information.html"><a href="basic-information.html#what-is-model-validation"><i class="fa fa-check"></i><b>1.2</b> What is model validation?</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="basic-information.html"><a href="basic-information.html#typical-modeling-assumptions"><i class="fa fa-check"></i><b>1.2.1</b> Typical modeling assumptions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="how-to-begin.html"><a href="how-to-begin.html"><i class="fa fa-check"></i><b>2</b> How to begin?</a>
<ul>
<li class="chapter" data-level="2.1" data-path="how-to-begin.html"><a href="how-to-begin.html#examples"><i class="fa fa-check"></i><b>2.1</b> Examples</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="how-to-begin.html"><a href="how-to-begin.html#stopping-distance"><i class="fa fa-check"></i><b>2.1.1</b> Stopping distance</a></li>
<li class="chapter" data-level="2.1.2" data-path="how-to-begin.html"><a href="how-to-begin.html#breast-cancer-survival"><i class="fa fa-check"></i><b>2.1.2</b> Breast cancer survival</a></li>
<li class="chapter" data-level="2.1.3" data-path="how-to-begin.html"><a href="how-to-begin.html#covid-19-hospital-admissions"><i class="fa fa-check"></i><b>2.1.3</b> COVID-19 hospital admissions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="essential-concepts.html"><a href="essential-concepts.html"><i class="fa fa-check"></i><b>3</b> Essential concepts</a>
<ul>
<li class="chapter" data-level="3.1" data-path="essential-concepts.html"><a href="essential-concepts.html#in-sample-vs.-out-of-sample"><i class="fa fa-check"></i><b>3.1</b> In-sample vs. out-of-sample</a></li>
<li class="chapter" data-level="3.2" data-path="essential-concepts.html"><a href="essential-concepts.html#fitting-vs.-prediction"><i class="fa fa-check"></i><b>3.2</b> Fitting vs. prediction</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="model-types.html"><a href="model-types.html"><i class="fa fa-check"></i><b>4</b> Model types</a>
<ul>
<li class="chapter" data-level="4.1" data-path="model-types.html"><a href="model-types.html#logistic-regression"><i class="fa fa-check"></i><b>4.1</b> Logistic regression</a></li>
<li class="chapter" data-level="4.2" data-path="model-types.html"><a href="model-types.html#random-forest-regression"><i class="fa fa-check"></i><b>4.2</b> Random forest regression</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-splitting-systems.html"><a href="data-splitting-systems.html"><i class="fa fa-check"></i><b>5</b> Data splitting systems</a>
<ul>
<li class="chapter" data-level="5.1" data-path="data-splitting-systems.html"><a href="data-splitting-systems.html#trainvalidation-split"><i class="fa fa-check"></i><b>5.1</b> Train/validation split</a></li>
<li class="chapter" data-level="5.2" data-path="data-splitting-systems.html"><a href="data-splitting-systems.html#cross-validation"><i class="fa fa-check"></i><b>5.2</b> Cross-validation</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="data-splitting-systems.html"><a href="data-splitting-systems.html#combining-the-two"><i class="fa fa-check"></i><b>5.2.1</b> Combining the two</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="validating-the-models-functional-form.html"><a href="validating-the-models-functional-form.html"><i class="fa fa-check"></i><b>6</b> Validating the model’s functional form</a>
<ul>
<li class="chapter" data-level="6.1" data-path="validating-the-models-functional-form.html"><a href="validating-the-models-functional-form.html#posit-a-model"><i class="fa fa-check"></i><b>6.1</b> Posit a model</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="validating-the-models-functional-form.html"><a href="validating-the-models-functional-form.html#model-form"><i class="fa fa-check"></i><b>6.1.1</b> Model form</a></li>
<li class="chapter" data-level="6.1.2" data-path="validating-the-models-functional-form.html"><a href="validating-the-models-functional-form.html#model-distribution"><i class="fa fa-check"></i><b>6.1.2</b> Model distribution</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="validating-the-models-functional-form.html"><a href="validating-the-models-functional-form.html#validate-the-assumptions"><i class="fa fa-check"></i><b>6.2</b> Validate the assumptions</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="validating-the-models-distributional-form.html"><a href="validating-the-models-distributional-form.html"><i class="fa fa-check"></i><b>7</b> Validating the model’s distributional form</a>
<ul>
<li class="chapter" data-level="7.1" data-path="validating-the-models-distributional-form.html"><a href="validating-the-models-distributional-form.html#posit-a-distribution"><i class="fa fa-check"></i><b>7.1</b> Posit a distribution</a></li>
<li class="chapter" data-level="7.2" data-path="validating-the-models-distributional-form.html"><a href="validating-the-models-distributional-form.html#validate-your-choice"><i class="fa fa-check"></i><b>7.2</b> Validate your choice</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="validating-the-models-distributional-form.html"><a href="validating-the-models-distributional-form.html#stopping-distance-1"><i class="fa fa-check"></i><b>7.2.1</b> Stopping distance</a></li>
<li class="chapter" data-level="7.2.2" data-path="validating-the-models-distributional-form.html"><a href="validating-the-models-distributional-form.html#breast-cancer-example"><i class="fa fa-check"></i><b>7.2.2</b> Breast cancer example</a></li>
<li class="chapter" data-level="7.2.3" data-path="validating-the-models-distributional-form.html"><a href="validating-the-models-distributional-form.html#covid-admissions-example"><i class="fa fa-check"></i><b>7.2.3</b> COVID admissions example</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Model validation for applied data science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="validating-the-models-functional-form" class="section level1" number="6">
<h1><span class="header-section-number">6</span> Validating the model’s functional form</h1>
<p>We can validate the model’s functional form by making predictions and comparing them to the truth. If the estimated mean function is valid, then the observed should be in line with predictions. Of course, there will stil be some error, but the predictions should be accurate on average.</p>
<div id="posit-a-model" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> Posit a model</h2>
<p>To posit a model here means to select a model form and distribution, and apply them to a piece of estimation software. Most often the model form is a generalized linear model (which includes linear regression as a special case), but we are also looking at random forest-type models, which are not linear in their inputs.</p>
<div id="model-form" class="section level3" number="6.1.1">
<h3><span class="header-section-number">6.1.1</span> Model form</h3>
<p>Selecting a model form includes deciding which covariates have a predictive relationship with the response, and whether their relationship is linear, linear following some transformation, or should be modeled more flexibly, e.g. with a tree-based approach.</p>
</div>
<div id="model-distribution" class="section level3" number="6.1.2">
<h3><span class="header-section-number">6.1.2</span> Model distribution</h3>
<p>Knowing the allowable range of the response will help you to decide what distribution to specify in fitting a model. Here are some common, crucial decision points:</p>
<ul>
<li>If the response is in the form of “number of events out of some number of tries” (e.g. a basketball player’s free throw percentage is the number of made free throws out of tries), then a binomial distribution may be appropriate. This is also the case when the number of “tries” is one - as in our example of five years survival for women with breast cancer. Here, the “event” is “the woman survives five years after diagnosis”, and each person in the study gets one try.</li>
<li>If the response is a count of independent events, with no “out of” tries, then it may be Poisson distributed.</li>
<li>If the data are continuous with no bounds then they may be normally distributed.</li>
<li>If the data are continuous, but have a defined lower bound at zero then they may follow a Gamma distribution.</li>
</ul>
</div>
</div>
<div id="validate-the-assumptions" class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> Validate the assumptions</h2>
<p>Having posited a model, we may check whether the model generates fits and predictions that agree with the assumptions. Let’s do this for our examples.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="validating-the-models-functional-form.html#cb15-1" aria-hidden="true" tabindex="-1"></a>nfold <span class="ot">=</span> <span class="dv">5</span></span>
<span id="cb15-2"><a href="validating-the-models-functional-form.html#cb15-2" aria-hidden="true" tabindex="-1"></a>folds <span class="ot">=</span> <span class="fu">sample</span>( <span class="dv">1</span><span class="sc">:</span>nfold, <span class="at">size=</span><span class="fu">nrow</span>(cars), <span class="at">replace=</span><span class="cn">TRUE</span> )</span>
<span id="cb15-3"><a href="validating-the-models-functional-form.html#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="validating-the-models-functional-form.html#cb15-4" aria-hidden="true" tabindex="-1"></a>preds <span class="ot">=</span> <span class="fu">list</span>( <span class="st">&#39;a&#39;</span> <span class="ot">=</span> <span class="fu">numeric</span>(<span class="fu">nrow</span>(cars)), <span class="st">&#39;b&#39;</span> <span class="ot">=</span> <span class="fu">numeric</span>(<span class="fu">nrow</span>(cars)), <span class="st">&#39;c&#39;</span> <span class="ot">=</span> <span class="fu">numeric</span>(<span class="fu">nrow</span>(cars)), <span class="st">&#39;d&#39;</span> <span class="ot">=</span> <span class="fu">numeric</span>(<span class="fu">nrow</span>(cars)), <span class="st">&#39;e&#39;</span> <span class="ot">=</span> <span class="fu">numeric</span>(<span class="fu">nrow</span>(cars)), <span class="st">&#39;f&#39;</span><span class="ot">=</span> <span class="fu">numeric</span>(<span class="fu">nrow</span>(cars)))</span>
<span id="cb15-5"><a href="validating-the-models-functional-form.html#cb15-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-6"><a href="validating-the-models-functional-form.html#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> ( i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>nfold ) {</span>
<span id="cb15-7"><a href="validating-the-models-functional-form.html#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Estimate a model for the stopping distance data</span></span>
<span id="cb15-8"><a href="validating-the-models-functional-form.html#cb15-8" aria-hidden="true" tabindex="-1"></a>  lm1 <span class="ot">=</span> <span class="fu">lm</span>( dist <span class="sc">~</span> speed, <span class="at">data=</span>cars[ folds<span class="sc">!=</span> i, ] )</span>
<span id="cb15-9"><a href="validating-the-models-functional-form.html#cb15-9" aria-hidden="true" tabindex="-1"></a>  lm2 <span class="ot">=</span> <span class="fu">lm</span>( dist <span class="sc">~</span> <span class="fu">I</span>(speed<span class="sc">^</span><span class="dv">2</span>), <span class="at">data=</span>cars[ folds<span class="sc">!=</span> i, ] )</span>
<span id="cb15-10"><a href="validating-the-models-functional-form.html#cb15-10" aria-hidden="true" tabindex="-1"></a>  lm3 <span class="ot">=</span> <span class="fu">lm</span>( dist <span class="sc">~</span> <span class="fu">I</span>(speed<span class="sc">^</span><span class="dv">3</span>), <span class="at">data=</span>cars[ folds<span class="sc">!=</span> i, ] )</span>
<span id="cb15-11"><a href="validating-the-models-functional-form.html#cb15-11" aria-hidden="true" tabindex="-1"></a>  lm4 <span class="ot">=</span> <span class="fu">lm</span>( dist <span class="sc">~</span> <span class="fu">I</span>(speed<span class="sc">^</span><span class="dv">2</span>) <span class="sc">+</span> <span class="dv">0</span>, <span class="at">data=</span>cars[ folds<span class="sc">!=</span> i, ] )</span>
<span id="cb15-12"><a href="validating-the-models-functional-form.html#cb15-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb15-13"><a href="validating-the-models-functional-form.html#cb15-13" aria-hidden="true" tabindex="-1"></a>  lm5 <span class="ot">=</span> <span class="fu">lm</span>( dist <span class="sc">~</span> <span class="fu">I</span>(speed<span class="sc">^</span><span class="dv">2</span>) <span class="sc">+</span> speed, <span class="at">data=</span>cars[ folds<span class="sc">!=</span> i, ] )</span>
<span id="cb15-14"><a href="validating-the-models-functional-form.html#cb15-14" aria-hidden="true" tabindex="-1"></a>  lm6 <span class="ot">=</span> <span class="fu">lm</span>( dist <span class="sc">~</span> <span class="fu">I</span>(speed<span class="sc">^</span><span class="dv">2</span>) <span class="sc">+</span> speed<span class="sc">+</span><span class="dv">0</span>, <span class="at">data=</span>cars[ folds<span class="sc">!=</span> i, ] )</span>
<span id="cb15-15"><a href="validating-the-models-functional-form.html#cb15-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb15-16"><a href="validating-the-models-functional-form.html#cb15-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb15-17"><a href="validating-the-models-functional-form.html#cb15-17" aria-hidden="true" tabindex="-1"></a>  preds[[<span class="st">&#39;a&#39;</span>]][ folds <span class="sc">==</span> i ] <span class="ot">=</span> <span class="fu">predict</span>( lm1, cars[ folds<span class="sc">==</span>i, ] )</span>
<span id="cb15-18"><a href="validating-the-models-functional-form.html#cb15-18" aria-hidden="true" tabindex="-1"></a>  preds[[<span class="st">&#39;b&#39;</span>]][ folds <span class="sc">==</span> i ] <span class="ot">=</span> <span class="fu">predict</span>( lm2, cars[ folds<span class="sc">==</span>i, ] )</span>
<span id="cb15-19"><a href="validating-the-models-functional-form.html#cb15-19" aria-hidden="true" tabindex="-1"></a>  preds[[<span class="st">&#39;c&#39;</span>]][ folds <span class="sc">==</span> i ] <span class="ot">=</span> <span class="fu">predict</span>( lm3, cars[ folds<span class="sc">==</span>i, ] )</span>
<span id="cb15-20"><a href="validating-the-models-functional-form.html#cb15-20" aria-hidden="true" tabindex="-1"></a>  preds[[<span class="st">&#39;d&#39;</span>]][ folds <span class="sc">==</span> i ] <span class="ot">=</span> <span class="fu">predict</span>( lm4, cars[ folds<span class="sc">==</span>i, ] )</span>
<span id="cb15-21"><a href="validating-the-models-functional-form.html#cb15-21" aria-hidden="true" tabindex="-1"></a>  preds[[<span class="st">&#39;e&#39;</span>]][ folds <span class="sc">==</span> i ] <span class="ot">=</span> <span class="fu">predict</span>( lm5, cars[ folds<span class="sc">==</span>i, ] )</span>
<span id="cb15-22"><a href="validating-the-models-functional-form.html#cb15-22" aria-hidden="true" tabindex="-1"></a>  preds[[<span class="st">&#39;f&#39;</span>]][ folds <span class="sc">==</span> i ] <span class="ot">=</span> <span class="fu">predict</span>( lm6, cars[ folds<span class="sc">==</span>i, ] )</span>
<span id="cb15-23"><a href="validating-the-models-functional-form.html#cb15-23" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb15-24"><a href="validating-the-models-functional-form.html#cb15-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-25"><a href="validating-the-models-functional-form.html#cb15-25" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate the mean squared error of the models</span></span>
<span id="cb15-26"><a href="validating-the-models-functional-form.html#cb15-26" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>( preds[[<span class="st">&#39;a&#39;</span>]] <span class="sc">-</span> cars<span class="sc">$</span>dist )</span></code></pre></div>
<pre><code>## [1] 244.5208</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="validating-the-models-functional-form.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>( preds[[<span class="st">&#39;b&#39;</span>]] <span class="sc">-</span> cars<span class="sc">$</span>dist )</span></code></pre></div>
<pre><code>## [1] 240.7023</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="validating-the-models-functional-form.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>( preds[[<span class="st">&#39;c&#39;</span>]] <span class="sc">-</span> cars<span class="sc">$</span>dist )</span></code></pre></div>
<pre><code>## [1] 257.3291</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="validating-the-models-functional-form.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>( preds[[<span class="st">&#39;d&#39;</span>]] <span class="sc">-</span> cars<span class="sc">$</span>dist )</span></code></pre></div>
<pre><code>## [1] 254.792</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="validating-the-models-functional-form.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>( preds[[<span class="st">&#39;e&#39;</span>]] <span class="sc">-</span> cars<span class="sc">$</span>dist )</span></code></pre></div>
<pre><code>## [1] 240.7368</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="validating-the-models-functional-form.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>( preds[[<span class="st">&#39;f&#39;</span>]] <span class="sc">-</span> cars<span class="sc">$</span>dist )</span></code></pre></div>
<pre><code>## [1] 237.423</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="validating-the-models-functional-form.html#cb27-1" aria-hidden="true" tabindex="-1"></a>nfold <span class="ot">=</span> <span class="dv">5</span></span>
<span id="cb27-2"><a href="validating-the-models-functional-form.html#cb27-2" aria-hidden="true" tabindex="-1"></a>fold <span class="ot">=</span> <span class="fu">sample</span>( <span class="dv">1</span><span class="sc">:</span>nfold, <span class="at">size=</span><span class="fu">nrow</span>(gbsg), <span class="at">replace=</span><span class="cn">TRUE</span> )</span>
<span id="cb27-3"><a href="validating-the-models-functional-form.html#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="validating-the-models-functional-form.html#cb27-4" aria-hidden="true" tabindex="-1"></a>pred_gbsg <span class="ot">=</span> <span class="fu">numeric</span>( <span class="fu">nrow</span>(gbsg) )</span>
<span id="cb27-5"><a href="validating-the-models-functional-form.html#cb27-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-6"><a href="validating-the-models-functional-form.html#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> ( i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>nfold ) {</span>
<span id="cb27-7"><a href="validating-the-models-functional-form.html#cb27-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Estimate a model for the stopping distance data</span></span>
<span id="cb27-8"><a href="validating-the-models-functional-form.html#cb27-8" aria-hidden="true" tabindex="-1"></a>  glm1 <span class="ot">=</span> <span class="fu">glm</span>( fys <span class="sc">~</span> age <span class="sc">+</span> meno <span class="sc">+</span> size <span class="sc">+</span> grade <span class="sc">+</span> <span class="fu">log</span>(nodes) <span class="sc">+</span> <span class="fu">sqrt</span>(pgr) <span class="sc">+</span> <span class="fu">sqrt</span>(er) <span class="sc">+</span> hormon, <span class="at">data=</span>gbsg[ fold <span class="sc">!=</span> i, ], <span class="at">family=</span><span class="st">&#39;binomial&#39;</span> )</span>
<span id="cb27-9"><a href="validating-the-models-functional-form.html#cb27-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb27-10"><a href="validating-the-models-functional-form.html#cb27-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># get predictions for the left-out CV fold</span></span>
<span id="cb27-11"><a href="validating-the-models-functional-form.html#cb27-11" aria-hidden="true" tabindex="-1"></a>  pred_gbsg[ fold <span class="sc">==</span> i ] <span class="ot">=</span> <span class="fu">predict</span>( glm1, gbsg[ fold <span class="sc">==</span> i, ], <span class="at">type=</span><span class="st">&#39;response&#39;</span> )</span>
<span id="cb27-12"><a href="validating-the-models-functional-form.html#cb27-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb27-13"><a href="validating-the-models-functional-form.html#cb27-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-14"><a href="validating-the-models-functional-form.html#cb27-14" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate the mean squared error of the models</span></span>
<span id="cb27-15"><a href="validating-the-models-functional-form.html#cb27-15" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>( (pred_gbsg <span class="sc">-</span> gbsg<span class="sc">$</span>fys) <span class="sc">/</span> <span class="fu">sqrt</span>(pred_gbsg <span class="sc">*</span> (<span class="dv">1</span><span class="sc">-</span>pred_gbsg)), <span class="at">na.rm=</span><span class="cn">TRUE</span> )</span></code></pre></div>
<pre><code>## [1] 1.171875</code></pre>
<div id="covid-19-admissions-example" class="section level4" number="6.2.0.1">
<h4><span class="header-section-number">6.2.0.1</span> COVID-19 admissions example</h4>
<p>Recall that one of our first validation tasks for the COVID-19 admissions data was to check whether the time series was autocorrelated. We concluded that there was not an important amount of autocorrelation, and so we will use modeling methods that treat the data as independent.</p>
<p>Despite that, when the data are a time series, it is good practice for validation splits to respect the time ordering of the observations. After all, you need to be concerned about independence of the predictors as well as the response, and it is simply more realistic to validate the model with a known past and unknown future. That means setting a split date, then training over past data and predicting future observations.</p>
<p>You can still use cross-validation for time-series data - it is called walkforward validation, where each fold is a contiguous temporal block. Here, though, we use a single train/test split: train a model using all data prior to July, 2021 and then use it to predict COVID admissions since then.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="validating-the-models-functional-form.html#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">20211108</span>)</span>
<span id="cb29-2"><a href="validating-the-models-functional-form.html#cb29-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-3"><a href="validating-the-models-functional-form.html#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="co"># create a variable for the one-day ahead admissions:</span></span>
<span id="cb29-4"><a href="validating-the-models-functional-form.html#cb29-4" aria-hidden="true" tabindex="-1"></a>covid<span class="sc">$</span>D1_admissions <span class="ot">=</span> <span class="fu">lead</span>(covid<span class="sc">$</span>COVID_NEW_ADM_CNT, <span class="dv">1</span>)</span>
<span id="cb29-5"><a href="validating-the-models-functional-form.html#cb29-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-6"><a href="validating-the-models-functional-form.html#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="co"># remove any rows that have NA values</span></span>
<span id="cb29-7"><a href="validating-the-models-functional-form.html#cb29-7" aria-hidden="true" tabindex="-1"></a>covid <span class="ot">=</span> covid[ <span class="fu">rowSums</span>( <span class="fu">is.na</span>(covid)) <span class="sc">==</span> <span class="dv">0</span>, ]</span>
<span id="cb29-8"><a href="validating-the-models-functional-form.html#cb29-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-9"><a href="validating-the-models-functional-form.html#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="co"># establish the split date and use it to define a training set:</span></span>
<span id="cb29-10"><a href="validating-the-models-functional-form.html#cb29-10" aria-hidden="true" tabindex="-1"></a>split <span class="ot">=</span> <span class="st">&quot;2021-07-01&quot;</span></span>
<span id="cb29-11"><a href="validating-the-models-functional-form.html#cb29-11" aria-hidden="true" tabindex="-1"></a>train <span class="ot">=</span> covid<span class="sc">$</span>date <span class="sc">&lt;</span> split</span>
<span id="cb29-12"><a href="validating-the-models-functional-form.html#cb29-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-13"><a href="validating-the-models-functional-form.html#cb29-13" aria-hidden="true" tabindex="-1"></a><span class="co"># use CV on the training data to decide which variables to use in the models</span></span>
<span id="cb29-14"><a href="validating-the-models-functional-form.html#cb29-14" aria-hidden="true" tabindex="-1"></a>screen <span class="ot">=</span> <span class="fu">gbm</span>( D1_admissions <span class="sc">~</span> .,</span>
<span id="cb29-15"><a href="validating-the-models-functional-form.html#cb29-15" aria-hidden="true" tabindex="-1"></a>              <span class="at">data=</span>covid[ train, <span class="sc">-</span><span class="dv">1</span>],</span>
<span id="cb29-16"><a href="validating-the-models-functional-form.html#cb29-16" aria-hidden="true" tabindex="-1"></a>              <span class="at">n.trees=</span><span class="dv">3000</span>,</span>
<span id="cb29-17"><a href="validating-the-models-functional-form.html#cb29-17" aria-hidden="true" tabindex="-1"></a>              <span class="at">distribution=</span><span class="st">&quot;poisson&quot;</span>,</span>
<span id="cb29-18"><a href="validating-the-models-functional-form.html#cb29-18" aria-hidden="true" tabindex="-1"></a>              <span class="at">interaction.depth=</span><span class="dv">5</span>,</span>
<span id="cb29-19"><a href="validating-the-models-functional-form.html#cb29-19" aria-hidden="true" tabindex="-1"></a>              <span class="at">n.minobsinnode=</span><span class="dv">3</span>,</span>
<span id="cb29-20"><a href="validating-the-models-functional-form.html#cb29-20" aria-hidden="true" tabindex="-1"></a>              <span class="at">shrinkage=</span><span class="fl">0.0025</span>,</span>
<span id="cb29-21"><a href="validating-the-models-functional-form.html#cb29-21" aria-hidden="true" tabindex="-1"></a>              <span class="at">cv.folds=</span><span class="dv">5</span> )</span>
<span id="cb29-22"><a href="validating-the-models-functional-form.html#cb29-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-23"><a href="validating-the-models-functional-form.html#cb29-23" aria-hidden="true" tabindex="-1"></a><span class="co"># show the most influential variables for predicting COVID admissions:</span></span>
<span id="cb29-24"><a href="validating-the-models-functional-form.html#cb29-24" aria-hidden="true" tabindex="-1"></a>my_summary <span class="ot">=</span> <span class="fu">summary</span>(screen,</span>
<span id="cb29-25"><a href="validating-the-models-functional-form.html#cb29-25" aria-hidden="true" tabindex="-1"></a>                     <span class="at">plotit=</span><span class="cn">FALSE</span>,</span>
<span id="cb29-26"><a href="validating-the-models-functional-form.html#cb29-26" aria-hidden="true" tabindex="-1"></a>                     <span class="at">n.trees =</span> <span class="fu">gbm.perf</span>(screen, <span class="at">plot.it=</span><span class="cn">FALSE</span>) )</span>
<span id="cb29-27"><a href="validating-the-models-functional-form.html#cb29-27" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(my_summary)</span></code></pre></div>
<pre><code>##                                                       var     rel.inf
## POSITIVITY_RATE_MEAN                 POSITIVITY_RATE_MEAN 21.15992984
## COVID_MED_SURG_NO_HFNC_CNT_M COVID_MED_SURG_NO_HFNC_CNT_M 14.83983283
## COVID_ACTIVE_DNR_CNT_M             COVID_ACTIVE_DNR_CNT_M  6.80277776
## COVID_PT_CNT_MIDNIGHT_MEAN     COVID_PT_CNT_MIDNIGHT_MEAN  4.60795378
## DAY_OF_THE_WEEK                           DAY_OF_THE_WEEK  3.85556257
## COVID_NEW_ADM_MEAN                     COVID_NEW_ADM_MEAN  3.84604649
## INDX_UCDH_POSITIVITY_RATE       INDX_UCDH_POSITIVITY_RATE  3.76074110
## INDX_UCDH_POS_PT_CNT                 INDX_UCDH_POS_PT_CNT  3.61568817
## COVID_MED_SURG_CNT_M                 COVID_MED_SURG_CNT_M  3.02052191
## COVID_MALE_CNT_M                         COVID_MALE_CNT_M  2.98958324
## OUTREACH_POSITIVITY_MEAN         OUTREACH_POSITIVITY_MEAN  2.62827320
## OUTREACH_POSITIVITY_RATE         OUTREACH_POSITIVITY_RATE  1.93222982
## COVID_DISCHARGE_STD                   COVID_DISCHARGE_STD  1.75397412
## COVID_ICU_VENT_PCT_M                 COVID_ICU_VENT_PCT_M  1.53349524
## COVID_ICU_NO_VENT_PCT_M           COVID_ICU_NO_VENT_PCT_M  1.40921236
## COVID_PT_CNT_M                             COVID_PT_CNT_M  1.06311554
## TESTED_PT_CNT_MEAN                     TESTED_PT_CNT_MEAN  1.02452494
## COVID_PT_CNT_MIDNIGHT_STD       COVID_PT_CNT_MIDNIGHT_STD  0.97379651
## COVID_ICU_NO_VENT_CNT_M           COVID_ICU_NO_VENT_CNT_M  0.96460797
## COVID_POS_PT_CNT_EVER               COVID_POS_PT_CNT_EVER  0.94551837
## COVID_AVG_AGE_M                           COVID_AVG_AGE_M  0.89209631
## COVID_DISCHARGE_PCT_STD           COVID_DISCHARGE_PCT_STD  0.86543726
## OUTREACH_POSITIVITY_SLOPE       OUTREACH_POSITIVITY_SLOPE  0.81215037
## COVID_NEW_ADM_CNT                       COVID_NEW_ADM_CNT  0.80256067
## COVID_MED_SURG_HFNC_CNT_M       COVID_MED_SURG_HFNC_CNT_M  0.75407158
## OUTREACH_POSITIVITY_STD           OUTREACH_POSITIVITY_STD  0.69702188
## INDX_UCDH_TEST_PT_CNT               INDX_UCDH_TEST_PT_CNT  0.64150845
## TESTED_PT_CNT_SLOPE                   TESTED_PT_CNT_SLOPE  0.63897940
## COVID_ACTIVE_DNR_PCT_M             COVID_ACTIVE_DNR_PCT_M  0.60346285
## COVID_PT_CNT_MIDNIGHT_SLOPE   COVID_PT_CNT_MIDNIGHT_SLOPE  0.54075889
## COVID_NEW_ADM_STD                       COVID_NEW_ADM_STD  0.50110912
## OUTREACH_TEST_CNT_MEAN             OUTREACH_TEST_CNT_MEAN  0.46501740
## OUTREACH_POS_TEST_CNT               OUTREACH_POS_TEST_CNT  0.43046780
## POSITIVITY_RATE_SLOPE               POSITIVITY_RATE_SLOPE  0.42406516
## HOSPITAL_CENSUS_M                       HOSPITAL_CENSUS_M  0.41996645
## COVID_MED_SURG_HFNC_PCT_M       COVID_MED_SURG_HFNC_PCT_M  0.39540548
## COVID_ICU_CNT_M                           COVID_ICU_CNT_M  0.38065354
## COVID_MED_SURG_NO_HFNC_PCT_M COVID_MED_SURG_NO_HFNC_PCT_M  0.38051158
## COVID_DISCHARGE_PCT_SLOPE       COVID_DISCHARGE_PCT_SLOPE  0.37000680
## COVID_ICU_VENT_CNT_M                 COVID_ICU_VENT_CNT_M  0.36308152
## COVID_MALE_PCT_M                         COVID_MALE_PCT_M  0.35621454
## COVID_DISCHARGE_MEAN                 COVID_DISCHARGE_MEAN  0.35605100
## OUTREACH_TEST_CNT_SLOPE           OUTREACH_TEST_CNT_SLOPE  0.34700125
## COVID_DISCHARGE_PCT_MEAN         COVID_DISCHARGE_PCT_MEAN  0.34611494
## INDX_POS_PT_ALL_ADM_PCT           INDX_POS_PT_ALL_ADM_PCT  0.32505437
## COVID_DISCHARGE_CNT                   COVID_DISCHARGE_CNT  0.32031917
## INDX_POS_PT_NEW_ADM_PCT           INDX_POS_PT_NEW_ADM_PCT  0.31225111
## TESTED_PT_CNT_STD                       TESTED_PT_CNT_STD  0.29910087
## POSITIVITY_RATE_STD                   POSITIVITY_RATE_STD  0.28425817
## INDX_POS_PT_NEW_ADM_CNT           INDX_POS_PT_NEW_ADM_CNT  0.27607528
## COVID_DISCHARGE_SLOPE               COVID_DISCHARGE_SLOPE  0.26998993
## COVID_DISCHARGE_PCT                   COVID_DISCHARGE_PCT  0.25148475
## INDX_POS_PT_IN_HOUSE_D6_CNT   INDX_POS_PT_IN_HOUSE_D6_CNT  0.24820349
## OUTREACH_TEST_CNT                       OUTREACH_TEST_CNT  0.24039423
## INDX_POS_PT_ALL_ADM_CNT           INDX_POS_PT_ALL_ADM_CNT  0.22543487
## COVID_NEW_ADM_SLOPE                   COVID_NEW_ADM_SLOPE  0.20798090
## OUTREACH_TEST_CNT_STD               OUTREACH_TEST_CNT_STD  0.18292958
## COVID_RULE_OUT_PT_CNT_M           COVID_RULE_OUT_PT_CNT_M  0.17851018
## INDX_POS_PT_IN_HOUSE_D7_PCT   INDX_POS_PT_IN_HOUSE_D7_PCT  0.16370110
## DISCH_MED_SURG_HFNC_CNT           DISCH_MED_SURG_HFNC_CNT  0.15038246
## INDX_POS_PT_IN_HOUSE_D6_PCT   INDX_POS_PT_IN_HOUSE_D6_PCT  0.13339931
## DISCH_ICU_VENT_CNT                     DISCH_ICU_VENT_CNT  0.12530976
## DISCH_MED_SURG_NO_HFNC_CNT     DISCH_MED_SURG_NO_HFNC_CNT  0.11078148
## DISCH_ICU_NO_VENT_CNT               DISCH_ICU_NO_VENT_CNT  0.10247327
## INDX_POS_PT_IN_HOUSE_D7_CNT   INDX_POS_PT_IN_HOUSE_D7_CNT  0.05787682
## COVID_NEW_ADM_FLAG                     COVID_NEW_ADM_FLAG  0.02298892</code></pre>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="validating-the-models-functional-form.html#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># use the top twenty variables from the screening model</span></span>
<span id="cb31-2"><a href="validating-the-models-functional-form.html#cb31-2" aria-hidden="true" tabindex="-1"></a>f <span class="ot">=</span> <span class="fu">paste0</span>(<span class="st">&quot;D1_admissions ~ &quot;</span>, <span class="fu">paste</span>( my_summary<span class="sc">$</span>var[<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>], <span class="at">collapse=</span><span class="st">&quot; + &quot;</span>))</span>
<span id="cb31-3"><a href="validating-the-models-functional-form.html#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="validating-the-models-functional-form.html#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Estimate a model for the covid admissions data</span></span>
<span id="cb31-5"><a href="validating-the-models-functional-form.html#cb31-5" aria-hidden="true" tabindex="-1"></a>boost <span class="ot">=</span> <span class="fu">gbm</span>( <span class="fu">formula</span>(f),</span>
<span id="cb31-6"><a href="validating-the-models-functional-form.html#cb31-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">data=</span>covid[ train, ],</span>
<span id="cb31-7"><a href="validating-the-models-functional-form.html#cb31-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">n.trees=</span><span class="dv">3000</span>,</span>
<span id="cb31-8"><a href="validating-the-models-functional-form.html#cb31-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">distribution=</span><span class="st">&quot;poisson&quot;</span>,</span>
<span id="cb31-9"><a href="validating-the-models-functional-form.html#cb31-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">interaction.depth=</span><span class="dv">5</span>,</span>
<span id="cb31-10"><a href="validating-the-models-functional-form.html#cb31-10" aria-hidden="true" tabindex="-1"></a>             <span class="at">n.minobsinnode=</span><span class="dv">3</span>,</span>
<span id="cb31-11"><a href="validating-the-models-functional-form.html#cb31-11" aria-hidden="true" tabindex="-1"></a>             <span class="at">shrinkage=</span><span class="fl">0.0025</span>,</span>
<span id="cb31-12"><a href="validating-the-models-functional-form.html#cb31-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">cv.folds=</span><span class="dv">5</span> )</span>
<span id="cb31-13"><a href="validating-the-models-functional-form.html#cb31-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-14"><a href="validating-the-models-functional-form.html#cb31-14" aria-hidden="true" tabindex="-1"></a><span class="co"># make predictions from the covid admissions model</span></span>
<span id="cb31-15"><a href="validating-the-models-functional-form.html#cb31-15" aria-hidden="true" tabindex="-1"></a>pred_covid <span class="ot">=</span> <span class="fu">predict</span>(boost, covid, <span class="at">type=</span><span class="st">&#39;response&#39;</span>)[ <span class="sc">!</span>train ]</span></code></pre></div>
<pre><code>## Using 1527 trees...</code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="validating-the-models-functional-form.html#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot the predicted vs. observed</span></span>
<span id="cb33-2"><a href="validating-the-models-functional-form.html#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pred_covid, covid<span class="sc">$</span>D1_admissions[<span class="sc">!</span>train], <span class="at">xlab=</span><span class="st">&quot;prediction&quot;</span>, <span class="at">ylab=</span><span class="st">&quot;actual future admissions&quot;</span>)</span>
<span id="cb33-3"><a href="validating-the-models-functional-form.html#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">a=</span><span class="dv">0</span>, <span class="at">b=</span><span class="dv">1</span>)</span></code></pre></div>
<p><img src="04_comparing-means_files/figure-html/mean-validation-covid-1.png" width="672" /></p>
<p>The predictions are clearly somewhat muted relative to the actual future admissions, but they do capture the trend and when we look at the admissions from the perspective of the assumed Poisson distribution, we will see that the wider errors toward the right of the plot are expected.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-splitting-systems.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="validating-the-models-distributional-form.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ucdavisdatalab/workshop_model_validation/edit/master/04_comparing-means.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/ucdavisdatalab/workshop_model_validation/blob/master/04_comparing-means.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
